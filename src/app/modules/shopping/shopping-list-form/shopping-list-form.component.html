<form [formGroup]="form" (ngSubmit)="submit()">
  <div class="mb-2"><input formControlName="title" class="form-control" placeholder="Title of the list"></div>

  <label class="form-label">Include an existing recipe (Optional)</label>
  <select class="form-select mb-2" formControlName="selectedRecipeIds" multiple>
    <option *ngFor="let r of recipes" [value]="r.id">{{ r.title }}</option>
  </select>

  <div formArrayName="ingredients">
    <div *ngFor="let it of ingredients.controls; let i = index" [formGroupName]="i" class="d-flex gap-2 mb-2">
      <input formControlName="name" class="form-control" placeholder="IngrÃ©dient (optionnel si recette choisie)"/>
      <input formControlName="quantity" class="form-control" style="width:110px" placeholder="Qty"/>
      <button type="button" class="btn btn-outline-danger" (click)="removeItem(i)" [disabled]="ingredients.length===1">Delete</button>
    </div>
  </div>

  <div class="d-flex gap-2">
    <button type="button" class="btn btn-link p-0" (click)="addItem()">Add an ingredient</button>
    <button type="submit" class="btn btn-primary btn-sm">Create the list</button>
  </div>
</form>
