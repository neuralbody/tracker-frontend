<form [formGroup]="form" (ngSubmit)="submit()">
  <div class="mb-2"><input formControlName="title" class="form-control" placeholder="Name of the recipe" /></div>

  <div formArrayName="ingredients">
    <div *ngFor="let ig of ingredients.controls; let i = index" [formGroupName]="i" class="d-flex gap-2 mb-2">
      <input formControlName="name" class="form-control" placeholder="Ingredient" />
      <input formControlName="quantity" class="form-control" style="width:110px" placeholder="Qty" />
      <button type="button" class="btn btn-outline-danger" (click)="removeIngredient(i)" [disabled]="ingredients.length===1">â€”</button>
    </div>
  </div>

  <div class="d-flex gap-2">
    <button type="button" class="btn btn-link p-0" (click)="addIngredient()">Add an ingredient</button>
    <button type="submit" class="btn btn-success btn-sm">Create the recipe</button>
  </div>
</form>
